<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>QR Prank – Terms of Use</title>
<style>
  body {
    font-family: sans-serif;
    max-width: 600px;
    margin: 2rem auto;
    background: url('rick.gif') center center / cover no-repeat fixed;
    color: #fff;
  }
  textarea {
    width: 100%;
    height: 300px;
    color: #000;
    background: #fff;
    opacity: 0.9;
  }
  .controls {
    margin-top: 1rem;
    text-align: center;
  }
  #agreeBtn {
    padding: 0.6rem 1.2rem;
    font-size: 1rem;
    background: rgba(0,0,0,0.7);
    color: #fff;
    border: none;
    border-radius: 6px;
    cursor: pointer;
  }
  #agreeBtn:disabled {
    background: rgba(0,0,0,0.3);
    cursor: not-allowed;
  }
  #countdown {
    font-weight: bold;
    color: #ff0;
    text-align: center;
  }
  .email-box {
    margin-top: 1rem;
    text-align: center;
  }
  input[type="email"] {
    padding: 0.5rem;
    width: 90%;
    max-width: 300px;
    border: none;
    border-radius: 5px;
    font-size: 1rem;
  }
</style>
</head>
<body>

<h1>QR Prank – Terms of Use</h1>

<textarea readonly>
[PASTE your full Terms of Use text here]
</textarea>

<div class="email-box">
  <p>If you’d like to receive updates or verify your consent, enter your email (optional):</p>
  <input type="email" name="email" id="emailInput" placeholder="you@example.com">
</div>

<div class="controls">
  <p id="countdown">Please read the terms. You can agree in 10 seconds.</p>
  <button id="agreeBtn" disabled>I Agree</button>
</div>

<!-- Netlify form (hidden) -->
<form name="agreements" netlify netlify-honeypot="bot-field" hidden>
  <input type="email" name="email" id="formEmail">
  <input type="hidden" name="timestamp" id="timestampField">
  <input type="hidden" name="userAgent" id="userAgentField">
</form>

<script>
let seconds = 10;
const countdown = document.getElementById('countdown');
const agreeBtn  = document.getElementById('agreeBtn');

const timer = setInterval(() => {
  seconds--;
  if (seconds > 0) {
    countdown.textContent = `Please read the terms. You can agree in ${seconds} second${seconds===1?'':'s'}.`;
  } else {
    clearInterval(timer);
    countdown.textContent = "You may now click I Agree if you accept the terms.";
    agreeBtn.disabled = false;
  }
}, 1000);

agreeBtn.addEventListener('click', () => {
  const emailValue = document.getElementById("emailInput").value.trim();
  document.getElementById("formEmail").value = emailValue;
  document.getElementById("timestampField").value = new Date().toISOString();
  document.getElementById("userAgentField").value = navigator.userAgent;

  // Submit the hidden Netlify form
  document.forms["agreements"].submit();

  // Redirect to the download page
  window.location.href = "download.html";
});
</script>

</body>
</html>
